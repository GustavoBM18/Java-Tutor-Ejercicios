digraph LlamadaTelefonicaColores {
    // Configuración visual
    rankdir=TB;
    // Activamos el relleno de color
    node [fontname="Arial", fontsize=12, style="filled"]; 
    edge [fontsize=10];
    bgcolor="transparent";

    // Nodos Principales
    Inicio [label="INICIO", shape=ellipse, fillcolor="#B3E5FC"];
    Entrada [label="CLAVE, NUMIN", shape=parallelogram, fillcolor="#F9F9F9"];
    
    // Selector de Zona (Verde)
    Selector [label="CLAVE", shape=hexagon, fillcolor="#C8E6C9"];

    // Asignación de precios (Gris)
    Caso12 [label="P1 ← 2.0\nP2 ← 1.5", shape=box, fillcolor="#F9F9F9"];
    Caso15 [label="P1 ← 2.2\nP2 ← 1.8", shape=box, fillcolor="#F9F9F9"];
    Caso18 [label="P1 ← 4.5\nP2 ← 3.5", shape=box, fillcolor="#F9F9F9"];
    Caso19 [label="P1 ← 3.5\nP2 ← 2.7", shape=box, fillcolor="#F9F9F9"];
    Caso23 [label="P1 ← 6.0\nP2 ← 4.6", shape=box, fillcolor="#F9F9F9"];
    Caso25 [label="P1 ← 6.0\nP2 ← 4.6", shape=box, fillcolor="#F9F9F9"];
    Caso29 [label="P1 ← 5.0\nP2 ← 3.9", shape=box, fillcolor="#F9F9F9"];
    
    // Caso de error (Rojo claro para destacar)
    Error [label="\"ERROR EN CLAVE\"", shape=egg, fillcolor="#FFCDD2"];

    // Decisión de tiempo (Verde)
    DecisionTiempo [label="NUMIN > 3", shape=diamond, fillcolor="#C8E6C9"];

    // Cálculos del costo (Gris)
    CalcLarga [label="COSTO ← (3 * P1) + \n((NUMIN - 3) * P2)", shape=box, fillcolor="#F9F9F9"];
    CalcCorta [label="COSTO ← NUMIN * P1", shape=box, fillcolor="#F9F9F9"];

    // Salida (Amarillo)
    Salida [label="COSTO", shape=egg, fillcolor="#FFF9C4"];
    
    // Fin (Azul)
    Fin [label="FIN", shape=ellipse, fillcolor="#B3E5FC"];

    // --- CONEXIONES ---
    Inicio -> Entrada;
    Entrada -> Selector;

    // Conexiones del Selector (Casos)
    Selector -> Caso12 [label="12"];
    Selector -> Caso15 [label="15"];
    Selector -> Caso18 [label="18"];
    Selector -> Caso19 [label="19"];
    Selector -> Caso23 [label="23"];
    Selector -> Caso25 [label="25"];
    Selector -> Caso29 [label="29"];
    Selector -> Error [label="Otro"];

    // Si es error, termina
    Error -> Fin;

    // Unir todos los casos válidos hacia la decisión de tiempo
    Caso12 -> DecisionTiempo;
    Caso15 -> DecisionTiempo;
    Caso18 -> DecisionTiempo;
    Caso19 -> DecisionTiempo;
    Caso23 -> DecisionTiempo;
    Caso25 -> DecisionTiempo;
    Caso29 -> DecisionTiempo;

    // Lógica del cálculo final
    DecisionTiempo -> CalcLarga [label="Si"];
    DecisionTiempo -> CalcCorta [label="No"];

    // Unir cálculos a la salida
    CalcLarga -> Salida;
    CalcCorta -> Salida;

    Salida -> Fin;
    
    // Alineación opcional para que los precios salgan al mismo nivel
    { rank=same; Caso12; Caso15; Caso18; Caso19; Caso23; Caso25; Caso29; }
}